# 1.安装和 IDE 差异

Visual Studio 有一个有趣的传统。它已经以不同的形式存在了超过 15 年。如果你追溯到 Visual Basic，微软已经提供了近 30 年的开发环境。这种经历使得 Visual Studio 成为开发人员最常用(也是最受欢迎)的工具之一变得可以理解，不管他们试图创建什么样的应用程序。

Visual Studio 的优势之一是高度的一致性，特别是在最近的五个版本中。如果你熟悉 Visual Studio 的早期版本，你可以轻松地浏览 Visual Studio 2019。这就是稳定和熟悉的力量。

但话虽如此，仅仅知道 Visual Studio 2019 与早期版本相似并不能说明全部情况。每个版本都增加了新功能，增强了现有功能。这并不奇怪，因为微软的生态系统还在继续发展——而且发展得相当快:AzureDevOps 码头工人；Xamarin 像 Angular、React、Vue 这样的 web 框架；和大数据。

并非所有这些你都感兴趣。但是他们中的一些人很有可能是。但是，这意味着，如果您所做的只是继续像以前那样使用 Visual Studio，那么您就错过了机会。这就是本书的要点——让你不要错过，确保你知道 Visual Studio 2019 是如何发展的，以及在哪里发展的。通过识别可能对你有用的新领域，你可以在日常工作中变得更有效率。这也是本书的最终目标。

首先，在了解一些高级特性之前，让我们先来谈谈基础知识。毫无疑问，界面没有发生重大变化。但仍有一些东西被添加或调整。而有时候小时代是最有用的。

## 正在安装 Visual Studio 2019

本章的起点是安装过程。这也是过去几个版本中比较不稳定的函数之一。似乎每个新版本都有一个新的安装界面。而 Visual Studio 2019 并没有打破这一趋势。

Visual Studio 2019 可以与早期版本的 Visual Studio 并行安装。事实上，从 Visual Studio 2012 到 Visual Studio 2017，你可以独立于每个版本运行 Visual Studio 2019。这使您能够使用 Visual Studio 2019 中可能不可用的组件(如 Crystal Reports)来支持较旧的应用程序。

这实际上也意味着，你没有从 Visual Studio 2017 升级到 Visual Studio 2019。您正在安装 Visual Studio 2019 的全新实例。本质上没有升级过程。只是安装。

这并不是说，在 Visual Studio 2017 中创建和打开的项目在 Visual Studio 2019 中不起作用。确实如此。更重要的是，在 Visual Studio 2019 中打开一个项目，并不意味着不能在更早的版本中打开。项目和解决方案的格式在 Visual Studio 2019 和 Visual Studio 2013 之间向后兼容。当然，例外情况是，如果您的 Visual Studio 2019 解决方案包含一个具有早期版本中不存在的功能的项目模板。例如，您将无法在 Visual Studio 2015 中打开 Docker 项目。但是在 Visual Studio 2013 中创建的 Windows 窗体或 ASP.NET 项目将在 Visual Studio 2019 中正常打开，反之亦然。

Visual Studio 2019 的安装是通过 Visual Studio 安装程序驱动的。您可以从 [`https://visualstudio.microsoft.com/downloads/`](https://visualstudio.microsoft.com/downloads/) 下载最新的安装程序。在此页面上，您有三个 Visual Studio 版本可供选择:社区版、专业版和企业版。这些版本之间的差异在某些方面是微小的，而在其他方面是重要的。

每个版本都使您能够用 Visual Studio 支持的每种语言开发应用程序。您可以安装必要的工作负载来开发 web 应用程序、通用 Windows 平台(UWP)应用程序、跨平台应用程序和数据科学功能，在这些应用程序和功能中，您会发现一些生产力和测试工具存在显著差异。社区版和专业版都不包括 IntelliTest、代码克隆、实时依赖项验证、实时单元测试、快照调试或时间旅行调试。这些都是将在本书中讨论的特性，这样您就可以更好地选择 Enterprise 是否更适合您的开发习惯。

一旦你下载并执行了安装程序，你将看到如图 [1-1](#Fig1) 所示的对话框。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig1_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig1_HTML.png)

图 1-1

Visual Studio 安装程序中的“已安装”选项卡

这是从头安装 Visual Studio 2019 或在开始使用后添加和删除已安装的工作负载和组件的起点。对话框中有两个可见的选项卡。“已安装”选项卡显示计算机上当前安装的所有 Visual Studio 版本。“可用”选项卡显示可以安装的 Visual Studio 版本。可以看到，Installed 选项卡显示有一个版本的 Visual Studio 2019 准备更新。图 [1-2](#Fig2) 显示了可用的选项卡。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig2_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig2_HTML.png)

图 1-2

Visual Studio 安装程序中的可用选项卡

这里可以看到有两个版本的 Visual Studio 2019 可以安装。虽然计算机上安装的所有 Visual Studio 版本都出现在“已安装”选项卡上，但“可用”选项卡仅显示最新版本。请注意，有两组可用版本。Visual Studio Enterprise 2019 在发布部分。这意味着您已经安装了当前发布的版本。预览部分包含两个仍处于预览模式的版本。这意味着他们拥有正在测试过程中的特性和工具。不要认为这意味着预览版本的质量不高…它是。但是，在预览模式和发布版本之间，支持的功能或配置可能会发生变化。

要启动安装过程，请找到所需的版本，然后单击“安装”按钮。同样，要更新现有实例，请在“已安装”选项卡上找到它，然后单击“更新”按钮。这两个动作启动同一个对话框，如图 [1-3](#Fig3) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig3_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig3_HTML.png)

图 1-3

Visual Studio 安装对话框

Visual Studio 安装过程中的最新创新之一是工作负荷的概念。微软意识到，并不是每个开发人员都需要在 Visual Studio 中安装相同的组件。允许开发人员选择他们需要的东西，然后只安装那些部分，可以提高安装速度。但是有许多可用的组件，开发人员怎么知道哪些是必需的呢？当然，组件的命名没有提供任何有用的指示。因此引入了工作负载的概念。

工作负载是一组预定义的组件，这些组件被确定为一种常见开发类型的一部分。图 [1-3](#Fig3) 包含了可用的工作负载。例如，有一个 web 开发人员的工作量。它包含使用 ASP.NET 或 ASP.NET 核心来编码、调试和部署 web 应用程序所需的所有组件。如果这是您所做的那种开发，您将选择工作量并开始这个过程。其他可用的工作负载也是如此。确定您计划进行的开发类型，选择适当的工作负载，并开始安装。

可用的工作负载根据常见的使用模式分为不同的类别。类别列表以及每个类别中的工作负载可以在接下来的章节中找到。

### 网络和云

*   ASP.NET 和 web 开发–包括使用 ASP.NET 核心、ASP.NET 和 HTML/JavaScript 构建 web 应用程序的组件。为了顺应当今的一个主要趋势，它还包括了使用 Docker 组件所需的工具。

*   Azure——包括 Azure SDK、项目模板和其他工具，帮助您创建和操作不同的 Azure 资源。您可以创建基于 Azure 的 web 应用程序、虚拟机，并且像前面的 ASP.NET 和 web 开发工作负载一样，它还包括 Docker 组件工具。

*   Node.js–包括项目模板、分析工具和 REPL(读取-评估-打印循环)交互环境，以便您可以有效地使用 node . js

*   Python——支持使用 Flask 和 Django 等框架构建基于 Python 的 web 应用程序。该工作负载对于创建基于 Python 的数据科学应用程序也很有用，因为它内置了对 Conda 和 IPython 的支持。

### Windows 操作系统

*   使用 C++进行桌面开发–用于使用 C++构建传统的 Windows 应用程序。一些受支持的工具包括 CMake、Clang 和 MSBuild。

*   。NET 桌面开发–也用于构建传统的 Windows 应用程序，但现在选择的技术包括 Windows 窗体和 WPF(Windows Presentation Foundation)，而支持的语言是 Visual Basic、C#和 F#。

*   UWP 开发——通用 Windows 平台(UWP)工作负载允许您以各种平台为目标，包括 Xbox、HoloLens、Surface Hub 和典型的桌面。这也是一个工作负载，如果你在 Windows 10 IoT(物联网)中工作，你可能会感兴趣。

### 移动和游戏

*   用 C++开发游戏——这个工作量包括用 C++创建游戏的组件。包括支持 DirectX 和 Unreal 等引擎的能力。

*   使用 Unity 进行游戏开发——Unity 是一个跨平台的游戏开发环境，可用于创建 2D 和 3D 游戏。该工作负载支持 Unity 游戏开发框架，能够发布到移动平台、Mac、桌面、web 应用程序和游戏控制台。

*   移动开发。NET——虽然名称包括。NET 中，这个工作负载很容易被称为 Xamarin。通过 Xamarin，您可以使用 C#和 XAML 以及底层技术为 iOS、Android 和 UWP 创建本地应用程序。

*   使用 C++进行移动开发——该工作负载还允许您使用 C++作为首选语言，为 iOS 和 Android 开发应用程序。

### 其他工具集

*   。NET Core 跨平台开发-。NET Core 是一个开发平台，微软已经将它放入开源中，让所有人都可以看到(甚至为之做出贡献)。此工作负载添加了创建所需的组件。NET 核心应用程序，包括 ASP.NET 核心。

*   数据科学和分析——能够对数据仓库执行复杂的查询是一个引人注目的应用程序，在过去十年中已经走到了最前沿。该工作负载包括工具和对 Python、F#和 R 等语言的支持，允许您构建提取、清理和查询数据的应用程序。

*   数据存储和处理——在过去的几年中，Azure 增加了一些功能(如 Azure Data Lake 和对 Hadoop 的支持), SQL Server 也增加了一些功能来支持大量数据。从存储和查询的角度来看，此工作负载包括用于处理大数据的组件。

*   使用 C++进行 Linux 开发——这个工作负载包括用于为 Linux 环境创建应用程序的组件。虽然这对于长期 Windows 开发人员来说可能令人惊讶，但并没有您想象的那么不寻常。Windows 10 包括安装基于 Ubuntu 的 Bash shell 的选项，并包括一个用于 Linux 的 Windows 子系统，允许 Linux 应用程序在 Windows 中运行。

*   Office/SharePoint 开发–近年来，Office 和 SharePoint 的开发方法都发生了很大的变化。此工作负载添加了用于为最新版本的 Office 和 SharePoint 创建应用程序的组件。这包括 Word、Excel 和 Outlook 的加载项，以及可用的不同 SharePoint 解决方案。

*   Visual Studio 扩展开发——Visual Studio 拥有一组令人难以置信的扩展点。您可以相对容易地创建与 Visual Studio 深度集成的代码分析器或工具窗口。这个工作负载添加了组件和项目模板来帮助您入门。

每个定义背后都有一组随工作负载一起安装的组件。选择一个工作负载相当于说您想要安装相应的组件，但是不需要知道您需要哪些组件。选择工作负载并不是确定要安装的组件的唯一方法。您可以自己选择单个组件。

在对话框顶部附近，选择“单个组件”链接。出现如图 [1-4](#Fig4) 所示的组件列表。在这里，您可以从列表中选择任何单个组件。并且，正如您所预料的，所选择的组件将被安装到您的机器上。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig4_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig4_HTML.png)

图 1-4

单个组件

自然，工作负载和单个组件之间存在关系。毕竟，工作负载的全部目的是根据您正在进行的开发类型为您提供预打包的组件集。如果从安装页面中选择一个工作负荷，则可以在对话框右侧的窗格中看到包含的组件列表。并且它们在左侧显示的所有组件列表中被选中。如果要在安装中添加或删除组件，请选中或取消选中相应的项目。

还有第三种方式影响 Visual Studio 2019 的安装。点击对话框顶部的语言包链接，显示可用语言包的列表(如图 [1-5](#Fig5) 所示)。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig5_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig5_HTML.png)

图 1-5

语言包

语言包的安装独立于组件的安装，这意味着您可以选择一组组件，然后转到语言包列表，并选择其中的一些组件。工作负载和语言包之间没有关联，单个组件和语言包之间也没有关联。无论何种组合，所有选定的项目都将被安装。

一旦选择了组件和语言包，安装就可以开始了。有一个默认的安装位置，如果需要，您也可以选择不同的位置。点击顶部的安装位置链接，显示如图 [1-6](#Fig6) 所示的屏幕，即可确定备用位置。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig6_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig6_HTML.png)

图 1-6

安装位置

在这个屏幕上有三个可用的位置，可能比您预期的多两个。在顶部，Visual Studio IDE 字段定义了安装的主要位置。这对于安装任何产品都是典型的。但是第二个领域是偏离“正常”的地方

“下载缓存”字段让您知道作为安装一部分下载的文件将放置在哪里。还有一个复选框允许在安装完成后保留这些文件(因为它们通常会在安装完成后被删除)。

共享组件、工具和 SDK 字段也是信息性的。这是放置组件文件的目录。该位置由您计算机上安装的不同版本的 Visual Studio 使用，这就是该位置不能更改的原因。但是，如果您安装了 Visual Studio 的早期版本，请确保该路径与这些版本使用的路径相匹配。否则，您将向系统添加两次共享组件文件，一次用于早期版本，一次用于 Visual Studio 2019。

你可能想知道为什么微软觉得有必要让你为下载缓存指定一个不同的位置。基本原理与微软关于安装位置的建议有关。

Visual Studio 有许多与之相关的文件——不仅仅是核心开发环境，还包括安装的不同组件。当您运行应用程序时，会有大量的磁盘 I/O 活动在进行。为了获得 Visual Studio 的最佳性能，微软建议，如果您有一个可用的固态硬盘(SSD ),那么您可以使用该驱动器作为安装位置。然而，下载缓存可能会占用大量空间，而 SSD 上的空间可能非常宝贵。下载缓存字段允许您将安装文件放在不同的位置。将下载缓存放在不同的驱动器上还有一个好处，就是当您选择边下载边安装时，可以提高安装速度，因为现在下载和安装不会争用同一个硬盘驱动器。

当您根据需要定制安装后，点击对话框右下角的安装按钮(如图 [1-3](#Fig3) )。这将启动该过程。默认情况下，安装在 Visual Studio 上开始，同时下载安装所需的其他文件。这缩短了完成安装的总时间。但是，安装按钮左侧的下拉菜单允许您在开始安装之前选择下载所有文件。官方的选择是全部下载然后安装。

你为什么会选择这个选项？嗯，如果你边下载边安装，那么你需要在整个安装过程中保持与互联网的连接。如果你正在运行一个缓慢或有限的互联网连接，这可能是恼人的。但是，如果您在开始安装之前下载了所有文件，则可以在安装准备就绪后立即断开连接。

Note

如果出于某种原因，安装 Visual Studio 不是你的选择，微软已经将包含 Visual Studio 的虚拟机放入 Azure Marketplace。你可以进入你的 Microsoft Azure 帐户，创建包含 Visual Studio 2015 至 2019 企业版或社区版的虚拟机。所有工作负载都已安装，映像每月更新一次，因此它们始终是最新的。

## 更新 Visual Studio 2019

微软发布 Visual Studio 更新有一个固定的节奏。希望你有机会定期安装更新。Visual Studio 安装程序最终决定了更新的安装方式，但是当更新不仅适用于 Visual Studio，还适用于您已安装的各种组件时，Visual Studio 会通知您。

起点是出现在状态栏右侧的通知程序，如图 [1-7](#Fig7) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig7_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig7_HTML.jpg)

图 1-7

状态栏通知程序

此通知程序有一个包含可用通知数量的标记。并非所有通知都与更新相关。例如，如果您的许可证密钥即将到期，或者连接到源代码管理提供程序时出现问题，您可能会收到通知。和其他组件可以生成通知，包括微软提供的和第三方开发的。当您单击通知程序时，通知消息会出现在它们自己的窗格中(图 [1-8](#Fig8) )。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig8_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig8_HTML.jpg)

图 1-8

通知窗格

你可以看到两个当前可见的通知，其中一个是针对 Visual Studio 2019 的更新。这是您有更新可用的提示。因为，好吧，通知信息差不多就是这么说的。此时，有两种方法可以安装更新。首先，消息左下角的 Show Details 链接用于打开有关更新的信息。图 [1-9](#Fig9) 显示了点击链接时出现的典型对话框。如果单击“更新”按钮，Visual Studio 安装程序将启动。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig9_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig9_HTML.png)

图 1-9

通知详细信息

这很好地引出了你可以选择的第二条路。Visual Studio 安装程序是 Windows 中的一个独立应用程序。这意味着您可以像在您的计算机上执行任何其他应用程序一样执行它。您可以在已安装程序列表中找到它，或者从任务栏的搜索区域搜索它。无论是从通知窗格启动还是直接启动，结果都是一样的。

Note

启动器程序在运行时需要自我更新是很常见的。虽然情况并不总是如此，但新的 dot 版本(16.1、16.2 等)之间似乎有很高的相关性。)和新版本的安装程序。

安装程序用于管理计算机上的所有 Visual Studio 实例。在图 [1-1](#Fig1) 中可以看到已经安装了 Visual Studio 2019 Professional。如果您安装了 Visual Studio 2017，该实例也会出现。每个实例描述的右侧是一些按钮，它们的标签取决于实例的状态。不支持的早期版本的预览版将顶部按钮标记为卸载。

对于 Visual Studio 2019，顶部按钮显示“更新”或“修改”,具体取决于 Visual Studio 更新是否可用。单击“更新”将启动更新到 Visual Studio 当前版本的过程。单击修改允许您在现有实例中添加或删除工作负荷。

还有另外两个按钮可用。中间的按钮标记为 Launch，用于启动实例。下面是一个显示附加功能的“更多”按钮。此功能包括修复或卸载 Visual Studio 的选项。如果有可用的更新，您可以使用下载然后安装按钮运行更新。最后，还有导入或导出配置的能力。在这种情况下，正在导入或导出的配置是工作负载、组件和语言包的集合。如果选择导出选项，则当前安装的集合将被放入配置文件中。然后，其他人可以导入该文件，这样就可以在你们两个人之间同步该组功能。这使得在同一个项目上工作变得更加容易，而不会在以后发现一些关键的组件没有被安装。

## 启动您的代码

另一个高波动性的领域，至少在用户体验方面，是 Visual Studio 的启动流程。当您启动 Visual Studio 时，会出现如图 [1-10](#Fig10) 所示的屏幕。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig10_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig10_HTML.png)

图 1-10

Visual Studio 2019 启动屏幕

启动屏幕有两个主要部分。左侧是最近打开的项目、解决方案或文件的列表。这使您可以快速访问最近使用的工件。单击项目/解决方案/文件会打开它们。右边是一组按钮，让您执行一些与创建新项目相关的常见活动。

随着您打开不同的项目，左侧的列表将会增长。它确实记住了大量的项目，也就是说，你不可能超过任何存在的最大值。为了帮助您浏览列表，有几个选项可供您选择。图 [1-11](#Fig11) 显示了一个典型的条目，以及一个上下文菜单。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig11_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig11_HTML.jpg)

图 1-11

最近打开的项目项

您可以在上下文菜单中看到选项，既可以将项目固定到最近的项目列表，也可以将其从列表中删除。通过这种方式，您可以确保定期打开的工件保持在列表的顶部，而不管打开的任何中间项目，并且可以将不再需要的项目从列表中清除。虽然当上下文菜单处于活动状态时它不可见，但在项目的右侧有一个图钉图标，以便您可以轻松地固定和取消固定项目。

如果您不打算使用以前打开的项目，右侧界面上的按钮是最常见的选项。每个按钮的描述如下。

克隆或签出代码——单击时，您会看到几个如何继续的选项。对话框如图 [1-12](#Fig12) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig12_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig12_HTML.png)

图 1-12

克隆或签出代码对话框

第一个选项是输入您想要克隆的 Git 存储库的 URL。在这种情况下，您将在“存储库位置”字段中提供 URL，并在“本地路径”字段中提供存储库在您计算机上的位置。

第二种选择是浏览存储库，比如 Azure DevOps 或本地 Team Foundation System (TFS)服务器。可以在浏览存储库标签下看到已配置存储库的列表。当您单击所需的存储库时，接下来会发生什么取决于存储库的主机。例如，如果你配置了一个 Azure DevOps 帐户，你会看到一个如图 [1-13](#Fig13) 所示的对话框。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig13_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig13_HTML.jpg)

图 1-13

用于连接到 Azure DevOps 项目的对话框

对于 TFS 服务器，出现的对话框略有不同。但结果是一样的。找到您想要克隆的项目并连接到它。一旦连接完毕，Visual Studio 中的团队资源管理器窗格就会出现，如图 [1-14](#Fig14) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig14_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig14_HTML.jpg)

图 1-14

映射和获取项目

在此对话框中，您可以指定放置项目代码的本地目录。完成后，单击“地图和获取”按钮。这会将代码下载到目录中，并在文件和 TFS 的项目之间建立映射。

打开一个项目或解决方案–此选项允许您浏览本地机器上可用的驱动器，以找到本地项目或解决方案。流程很简单。将打开一个标准的打开文件对话框。您可以像平常一样导航，寻找您想要的项目或解决方案文件。找到它后，单击“打开”, Visual Studio 将打开它。这个对话框唯一真正不同的地方是支持不同类型的项目文件的数量。如果你点击下拉列表，结果看起来如图 [1-15](#Fig15) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig15_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig15_HTML.jpg)

图 1-15

支持的项目类型列表

打开本地文件夹–概念上类似于“上一步”按钮，除了不是搜索项目文件，而是搜索文件夹。哦，扩展名列表不在那里，因为你在找一个文件夹，而不是一个文件。

此选项用于没有描述项目内容的单独清单的项目类型(如。例如，C#中的 csproj 文件)，而是假设特定文件夹的内容(至少是不会被使用。忽略通常可用的文件)是项目的一部分。

创建新项目–如果您没有现有的项目或文件夹，此选项将显示已安装在您系统上的项目模板列表，并允许您基于它创建新项目。可用模板的实际列表取决于已安装的工作负载。这是 Visual Studio 的一部分，在过去的几个版本中没有显著变化。新建项目对话框如图 [1-16](#Fig16) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig16_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig16_HTML.png)

图 1-16

新建项目对话框

与早期版本的 Visual Studio 相比，项目模板的组织方式发生了显著变化。现在，焦点集中在模板类型上，与早期版本相反，在早期版本中，在看到可用模板之前，您首先要选择项目类型和语言。

在对话框的右侧，您可以看到可用模板的列表。对于每个模板，都有标签指示模板支持的语言和平台。您可以使用列表顶部的搜索框来搜索模板。或者您可以按语言、平台或项目类型过滤模板列表。项目类型列表如图 [1-16](#Fig16) 所示。

找到模板后，点击下一步，显示如图 [1-17](#Fig17) 所示的对话框。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig17_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig17_HTML.png)

图 1-17

配置新项目对话框

在此对话框中，您可以提供新项目的位置和名称，以及解决方案的名称。准备就绪后，单击创建。此时，接下来发生的细节取决于模板。有些模板会引导您完成向导，让您能够选择不同的定制。其他的模板会根据模板的需求创建一个新的项目。无论如何，一旦该过程完成，Visual Studio 将打开新项目，您就可以开始编写代码了。

## 搜索 Visual Studio

现在我们已经看了 Visual Studio 2019 的基本安装，以及打开或创建项目的新方式，如果你一直在使用 Visual Studio 2017 或 2015，你会发现没有太多变化。菜单、工具栏和各种窗口几乎与您预期的一模一样。改进的地方之一是搜索功能。

有一个搜索来检查代码库中的匹配项。还有一个在当前执行的调试上下文中查找的搜索(参见第 [7](07.html) 章，“调试和分析”)。但是在这种情况下，我们讨论的是搜索构成 Visual Studio 本身的命令和设置的能力。

图 [1-18](#Fig18) 举例说明了出现在 Visual Studio 2019 顶部的菜单和图标。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig18_HTML.png](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig18_HTML.png)

图 1-18

Visual Studio 2019 菜单栏和图标

通过带有 Search Visual Studio 内部标签的文本框可以访问该搜索。也可以使用 Ctrl+Q 键激活它。

在文本框中，您可以键入要查找的关键字。匹配列表出现在文本框下方的下拉列表中。搜索是渐进的，这意味着你一输入就能看到结果。这些结果会随着你继续输入而改变。图 [1-19](#Fig19) 显示了在文本框中输入`space`时的结果。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig19_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig19_HTML.jpg)

图 1-19

搜索结果

结果分为三类:菜单、组件和模板。默认情况下，所有结果都是可见的，但是通过单击列表顶部的标题，只会显示该类别的结果。

单击搜索结果时会发生什么取决于结果的类型。菜单结果触发要执行的命令(如果结果是菜单命令)或要显示的选项对话框，包含选项的屏幕可见。例如，点击打开或关闭虚拟空间结果显示选项对话框，如图 [1-20](#Fig20) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig20_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig20_HTML.jpg)

图 1-20

显示启用虚拟空间的选项对话框

在这里，所需的选项 Enable virtual space 位于对话框中间的 Settings 标题下。

组件结果包含已知可用但尚未安装在您的计算机上的组件。如果您返回到安装过程，可以选择要安装的单个组件(图 [1-4](#Fig4) )。选择组件结果会触发该组件的安装，也就是说，它会启动 Visual Studio 安装程序并选择相应的组件作为要安装的组件。

模板结果用于为当前项目或全新项目创建新元素(如类或网页)。在这两种情况下，都会出现一个对话框，引导您完成命名元素或项目的步骤，并根据模板的要求进行选择。

在图 [1-19](#Fig19) 所示对话框的右下角，有一个链接允许您在线搜索您在文本框中输入的术语。这允许您查找不属于 Visual Studio 安装的组件和模板。这包括已经提供给 Visual Studio 市场的项目。

## 共享和同步设置

配置 Visual Studio 可能是个人的事情。和任何 IDE(集成开发环境)一样，人们喜欢自己喜欢的东西。他们习惯了某些组合键来启动某些功能。同样，让团队的所有成员使用同一套快捷键有时也很有用。这有助于成员之间的交流，很可能对一个团队成员有效的方法对所有成员都有效。

有两种设置可以帮助驱动这种功能。首先，可以定义设置文件的位置。这可通过“选项”对话框(可通过“工具”“➤选项”菜单项访问)中的“环境➤导入和导出设置”选项卡来实现。图 [1-21](#Fig21) 显示了选项对话框。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig21_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig21_HTML.jpg)

图 1-21

选项对话框中的导入和导出设置

这是在您修改设置时用来存储设置的位置。并且在启动 Visual Studio 时会读取该文件的内容。这对于团队来说非常有用，因为文件可以在网络共享上。这样，团队中的每个人都可以使用相同的设置文件。唯一的警告是，如果人们对他们的设置进行了更改，那么团队中的每个人都会接受这些更改。不太危险，但是如果一些预期的功能一夜之间消失了，就要注意了。

在更个人化的层面上，您可以将当前设置导出到一个单独的文件中进行备份，然后在以后导入它们。这是通过导入和导出设置向导完成的，该向导可通过工具➤导入和导出设置菜单选项启动。向导的初始屏幕如图 [1-22](#Fig22) 所示。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig22_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig22_HTML.jpg)

图 1-22

导入和导出设置向导

选择导出选定的环境设置，然后单击下一步开始导出过程。如图 [1-23](#Fig23) 所示，向导的下一步让您选择要导出的设置。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig23_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig23_HTML.jpg)

图 1-23

选择要导出的设置

有大量的设置可供选择。默认情况下，除了可能包含敏感信息的设置之外，所有设置都会被选中。这些设置标有黄色警告三角形，如图 [1-23](#Fig23) 中环境旁边的那个。默认情况下，这些设置不会被导出，因此如果您想要包括它们，您需要手动添加它们。

该向导中的最后一个对话框允许您指定保存文件的名称以及保存文件的目录。当您在最后一个对话框中单击“完成”时，设置将被保存。

设置的导入过程稍微简单一些。如果选择图 [1-22](#Fig22) 所示的导入所选环境设置，则出现图 [1-24](#Fig24) 所示的对话框。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig24_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig24_HTML.jpg)

图 1-24

导入设置时保存当前设置

在导入新设置之前，您可以选择保存当前设置。或者您可以覆盖您当前的设置。点击“下一步”会出现一个对话框(图 [1-25](#Fig25) ，您可以在其中选择要导入的设置。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig25_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig25_HTML.jpg)

图 1-25

选择要导入的设置

此时，您可以选择要导入的设置。有两类供你选择。您可以选择一个默认设置。有些设置是由微软定义的，针对特定的开发人员子集。例如，前提是 Visual Basic 开发人员使用的设置不同于 Visual C++开发人员使用的设置。这些差异是基于不同类别的开发人员历史上所处的环境，或者他们更经常使用的 Visual Studio 的不同部分。

除了默认设置之外，还有您以前明确或自动保存的设置。这些是默认目录中的设置文件。还有一个浏览选项，可让您识别存储在其他地方的设置文件。选择所需的设置集合，单击“完成”按钮，这些设置将被导入。

图 [1-22](#Fig22) 中有一个额外的选项，用于重置您的所有设置。如果您选择该选项，您将转到图 [1-24](#Fig24) 中所示的屏幕，该屏幕允许您在继续之前备份当前设置。下一个屏幕如图 [1-25](#Fig25) 所示，不同之处在于没有你的个人设置文件——只有 Visual Studio 提供的默认设置。

除了创建包含您的 Visual Studio 设置的物理文件，还可以自动将您的设置同步到云，因为在这个时代，所有东西都是支持云的。云同步的好处是，当您在不同计算机上的不同 Visual Studio 实例之间移动时，您的设置会跟随您。只要您使用相同的云凭据登录 Visual Studio，您的设置就会存在。

您可以通过工具➤选项对话框中的环境➤帐户屏幕启用和禁用此同步(图 [1-26](#Fig26) )。

![../images/486188_1_En_1_Chapter/486188_1_En_1_Fig26_HTML.jpg](../images/486188_1_En_1_Chapter/486188_1_En_1_Fig26_HTML.jpg)

图 1-26

个性化帐户设置

有一个复选框支持跨设备同步。此外，还有一个云帐户(注册的 Azure 云)列表，这些帐户被识别为共享设置。对于大多数人来说，列表中只有一个项目，那就是他们的 Azure 帐户。但是，如果您有多个可用的 Azure 帐户，您可以使用“添加”按钮将它们添加到此列表中。

## 摘要

在本章中，我们介绍了安装和更新 Visual Studio 2019 的过程，以及启动应用程序时的外观。这包括访问以前打开的项目和解决方案，以及从头创建应用程序或从存储库中克隆应用程序的过程。此外，我们还研究了 IDE 的一些对团队开发有用的特性，或者如果您只是想找到隐藏在选项对话框中的设置。

在下一章，我们开始看看 Visual Studio 2019 如何帮助你更有效地编写代码。因为当你真正开始工作时，帮助你写代码就是 Visual Studio 的全部。